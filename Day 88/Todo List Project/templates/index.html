<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>To Do List</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Merriweather&family=Montserrat&family=Sacramento&display=swap" rel="stylesheet">
    </head>

    <body>
        <div class="top-container">
            <h1>To Do List</h1>
            <h2>{{ todays_date }}</h2>
        </div>

        <div class="middle-container">
            <form method="POST" accept-charset="UTF-8"  action="{{ url_for('home') }}">
                <input name="utf8" type="hidden" value="âœ“">
                <input class="newtask" autofocus="autofocus" autocomplete="off" placeholder="Write your next task here..." required="required" type="text" value="" name="task" id="task">
            </form>
            <hr>

            <ul>
                {% for task in tasks %}
                    <li>
                        <form method="POST" action="{{ url_for('check_task', index=tasks.index(task)) }}">
                            <input class="check" type="checkbox" name="task_done" id="task_done" value="True" onChange="this.form.submit()" {% if task[1] == True %} checked {% endif %} />  <!-- ide will show this as an error but it's fine -->
                            <input type="hidden" value="False" name="task_done" />
                            <label for="task_done">{{ task[0] }}</label>  <!-- task is stored at index 0 of the 2d array -->
                        </form>
                    </li>
                {% endfor %}
            </ul>


        </div>

        <div class="bottom-container">
          <p style="color: #EAF6F6">2022 Johnny M.</p>
        </div>
    </body>
</html>